# Install uv if not available
if ! has uv; then
  log_status "installing uv"
  curl -LsSf https://astral.sh/uv/install.sh | sh
  export PATH="$HOME/.local/bin:$PATH"
fi

# Sync dependencies and activate venv
uv sync --frozen 2>/dev/null || uv sync
export VIRTUAL_ENV="${PWD}/.venv"
PATH_add "$VIRTUAL_ENV/bin"
